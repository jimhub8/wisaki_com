(function(a){a(document).ready(function(){var c,b;a("#upload_image_button").on("click",function(b){b.preventDefault();c||(c=wp.media.frames.file_frame=wp.media({title:a(this).data("uploader_title"),button:{text:a(this).data("uploader_button_text")},multiple:!1}),c.on("select",function(){attachment=c.state().get("selection").first().toJSON();a("#image_url").val(attachment.url);a("#attach_id").val(attachment.id);a("#upload_image_remove_button").fadeIn();a("#upload_image_input img").attr("src",attachment.url)}));
    c.open()});a("#upload_image_remove_button").on("click",function(b){a("#upload_image_input img").attr("src","");a("#upload_image_remove_button").fadeOut();a("#attach_id").val("");a("#image_url").val("");b.preventDefault()});a("#add_product_gallery_image").on("click",function(c){c.preventDefault();b||(b=wp.media.frames.file_frame=wp.media({title:a(this).data("uploader_title"),button:{text:a(this).data("uploader_button_text")},multiple:!0}),b.on("select",function(){image_ids=b.state().get("selection");
    image_ids.map(function(b){b=b.toJSON();var c='<span class="image"><span class="dashicons dashicons-dismiss remove_image"></span><img width="150" height="150" src="'+b.url+'" class="attachment-thumbnail size-thumbnail"></span>',d=a("#product_gallery"),c=c+('<input type="hidden" name="product_gallery[]" value="'+b.id+'" />');d.append(c);b=d.find(".woocommerce-placeholder");"undefined"!=typeof b&&b.remove()})}));b.open()});a("body").on("click",".remove_image",function(){a(this).parent(".image").remove()})})})(jQuery);